# 卡片排版配置标准 (总览文档)

> **重要说明：** 本文档是英语单词卡片生成器的排版配置总览。详细的样式备份请参考专门的备份文档。

## 📋 相关文档导航

- **[网页预览样式完整备份](./网页预览样式完整备份_2024.md)** - 网页预览模式CSS样式备份
- **[下载图片样式完整备份](./下载图片样式完整备份_2024.md)** - 下载图片模式CSS样式备份

## 🎨 双模式样式系统说明

本项目采用双模式样式系统，确保网页预览和图片导出效果完全独立：

### 网页预览模式 (`.preview-mode`)
- 用于浏览器中的实时预览
- 样式优化了用户交互体验
- 配置文件：`网页预览样式完整备份_2024.md`

### 下载图片模式 (`.print-mode`)
- 用于A4图片导出
- 样式针对打印和图片导出优化
- 配置文件：`下载图片样式完整备份_2024.md`

## 📏 标准尺寸规格

### 🎯 核心比例参数
- **卡片标准尺寸：** 85×120mm（标准名片大小）
- **宽高比例：** 85:120 ≈ 0.71
- **网页预览比例：** `aspect-[85/120]`
- **图片导出尺寸：** `width: 85mm, height: 120mm`

---

## 🎨 可视化配置一览

### 🖼️ 正面布局 (50%-50%分割)

#### 图片区域 (上半部分 - 50%高度)
- **CSS类：** `.card-image-container`
- **高度：** `height: 50%`
- **圆角：** `border-radius: 12px 12px 0 0`
- **图片：** `object-fit: cover`，填满容器

#### 文字区域 (下半部分 - 50%高度)
- **CSS类：** `.card-text-area`
- **高度：** `height: 50%`
- **内边距：** `paddingTop: 0px`

**文字区域内容结构：**

1. **四线三格单词** (`.four-line-grid`)
   - **CSS类：** `.four-line-font-md`
   - **字体栈：** `"AU School Handwriting Fonts", "Kalam", "Comic Neue", "Comic Sans MS", cursive`
   - **字体大小：** `2rem` (32px)
   - **字体粗细：** `700` (**粗体**)
   - **行高：** `0.9` (紧凑)
   - **字间距：** `0.05em` (稍微放宽)
   - **文字颜色：** `#1f2937` (深灰黑)
   - **对齐方式：** `center` (居中)
   - **文字阴影：** `0 1px 2px rgba(0,0,0,0.1)` (轻微阴影)
   - **专业英文手写风格，适合教育场景**

2. **音标** (`.phonetic-text`)
   - **字体栈：** `"Nunito", sans-serif`
   - **字体大小：** `1.035rem` (约16.6px，比原来大15%)
   - **字体粗细：** `600` (**半粗体**)
   - **文字颜色：** `#3b82f6` (蓝色)
   - **显示方式：** `inline-block`
   - **上边距：** `0px`
   - **下边距：** `0px` (与四线三格无间距)

3. **拼读色块** (`.phonics-container`)
   - **布局方式：** `flex`
   - **对齐方式：** `justify-center`, `align-center`
   - **间距：** `gap: 4px`
   - **换行：** `flex-wrap`
   
   **每个色块 (`.phonics-block`)：**
   - **字体栈：** `"Kalam", cursive`
   - **字体大小：** `0.85rem` (约13.6px)
   - **字体粗细：** `700` (**粗体**)
   - **内边距：** `6px 10px` (上下6px，左右10px)
   - **圆角：** `8px`
   - **最小宽度：** `28px`
   - **文字对齐：** `center` (居中)
   - **行高：** `1`
   - **文字阴影：** `0 1px 2px rgba(0,0,0,0.2)`
   - **盒子阴影：** `0 2px 4px rgba(0,0,0,0.1)`
   - **背景色：** 渐变彩色 (20%透明度)
   - **文字颜色：** 对应深色系

### 🔄 反面布局 (顶部对齐)

#### 整体容器 (`.card-back`)
- **内边距：** `20px 20px 20px 20px`
- **对齐：** `justify-content: flex-start` (顶部对齐)

**内容结构：**

1. **中文释义** (`.meaning-text`)
   - **字体栈：** `"Nunito", sans-serif`
   - **字体大小：** `1.5rem` (24px)
   - **字体粗细：** `800` (**特粗体**)
   - **文字颜色：** `#1e293b` (深灰)
   - **行高：** `1` (紧凑)
   - **下边距：** `15px`
   - **文字阴影：** `0 2px 4px rgba(0,0,0,0.1)`
   - **渐变文字效果：** `linear-gradient(135deg, #1e293b 0%, #475569 100%)`
   - **背景裁剪：** `-webkit-background-clip: text`
   - **包含词性标注** (n. adj. v.等)

2. **例句容器** (`.unified-sentence-container`)
   - **背景色：** `#f1f5f9` (浅灰)
   - **边框：** `1px solid #d1d5db` (淡灰边框)
   - **圆角：** `8px`
   - **内边距：** `8px 8px` (上下8px，左右8px)
   - **文字对齐：** `left` (左对齐)
   - **定位方式：** `position: absolute`
   - **底部距离：** `20px`
   - **左边距离：** `10px`
   - **右边距离：** `10px`
   - **顶部位置：** `calc(20px + 1.5rem * 1 + 15px)` (动态计算)
   - **溢出处理：** `overflow-y: auto` (自动滚动)

### 📝 背面例句排版配置 (2024年最新版)

#### 🎯 字体大小配置 (响应式设计)

**网页预览模式 (`.preview-mode` 及基础样式)：**
- **英文例句 (`.sentence-english`)**：`19.2px` (在16px基础上增大20%)
- **中文翻译 (`.sentence-chinese`)**：`18px` (在15px基础上增大20%)
- **例句序号 (`.sentence-number`)**：`17px` (略小于例句文字，保持协调)

**下载图片模式 (`.print-mode`)：**
- **英文例句 (`.sentence-english`)**：`21.6px` (在24px基础上减小10%)
- **中文翻译 (`.sentence-chinese`)**：`19.8px` (在22px基础上减小10%)
- **例句序号 (`.sentence-number`)**：`20px` (略小于例句文字，保持协调)

#### 🎯 对齐与间距配置 (精细化调整)

**序号与例句对齐系统：**
- **序号容器 (`.sentence-number`)**：
  - 固定宽度：`14px`
  - 网页预览模式右边距：`8px`
  - 下载图片模式右边距：`12px`
  - 使用 `flex-shrink: 0` 防止挤压

- **英文例句行 (`.sentence-english-line`)**：
  - 布局方式：`display: flex`
  - 基线对齐：`align-items: baseline`
  - 左对齐：`justify-content: flex-start`

- **中文翻译缩进 (`.sentence-chinese`)**：
  - 网页预览模式：`margin-left: 22px` (14px宽度 + 8px间距)
  - 下载图片模式：保持原有样式不变

#### 📱 移动端适配 (≤768px)

**字体大小调整：**
- **英文例句**：`14px` (桌面端适度缩小)
- **中文翻译**：`13.5px` (保持可读性)

**设计原则：**
- 字号随屏幕自适应，保证大屏清晰、移动端不拥挤
- 适合小学生阅读，兼顾可读性与美观
- 例句容器背景色、边框、圆角等保持一致

> **重要提示：** 如需调整字号，请同步修改 `src/index.css` 中的对应样式规则，并保持本规范文档一致。序号与例句的对齐配置已经过精细调试，建议谨慎修改。

---

## 🖥️ 网页预览排版配置

### 卡片容器结构
```tsx
<div className="word-card aspect-[85/120]">
  {/* 正面或反面内容 */}
</div>
```

### 🔄 正面布局（50%-50%分割）

#### 图片区域（上半部分）
```tsx
<div className="card-image-container" style={{ height: '50%' }}>
  <img className="card-image" />
</div>
```

**CSS样式 (.card-image-container)：**
```css
height: 50%;
background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
border-radius: 12px 12px 0 0;
overflow: hidden;
position: relative;
box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.06);
```

#### 文字区域（下半部分）
```tsx
<div className="card-text-area" style={{ height: '50%', paddingTop: '0px' }}>
  {/* 四线三格单词 */}
  <div className="four-line-grid">
    <div className="four-line-font four-line-font-md">{word}</div>
  </div>
  
  {/* 音标 */}
  <div className="phonetic-text">{ipa}</div>
  
  {/* 拼读色块 */}
  <div className="phonics-container">
    {phonics.map(syllable => (
      <span className="phonics-block">{syllable}</span>
    ))}
  </div>
</div>
```

**关键CSS样式：**
```css
.card-text-area {
  height: 50%;
  padding: 20px 20px 20px 20px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  text-align: center;
}

.phonetic-text {
  font-family: "Nunito", sans-serif;
  font-weight: 600;
  color: #3b82f6;
  font-size: 1.035rem;
  margin-top: 0px;
  margin-bottom: 0px;
}

.phonics-container {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 4px;
  flex-wrap: wrap;
}

.phonics-block {
  display: inline-block;
  padding: 6px 10px;
  border-radius: 8px;
  font-family: "Kalam", cursive;
  font-weight: 700;
  font-size: 0.85rem;
  min-width: 28px;
  text-align: center;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
```

### 🔄 反面布局（顶部对齐）

```tsx
<div className="card-back">
  {/* 中文释义 */}
  <div className="meaning-text">
    {meaningWithPartOfSpeech}
  </div>
  
  {/* 例句容器 */}
  <div className="unified-sentence-container">
    <div className="sentence-item">
      <div className="sentence-english-line">
        <span className="sentence-number">1.</span>
        <span className="sentence-english">{sentenceEn}</span>
      </div>
      <div className="sentence-chinese">{sentenceCn}</div>
    </div>
  </div>
</div>
```

**关键CSS样式：**
```css
.card-back {
  background: linear-gradient(145deg, #fefefe 0%, #f8fafc 100%);
  padding: 20px 20px 20px 20px;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: flex-start; /* 顶部对齐 */
  text-align: center;
}

.meaning-text {
  font-family: "Nunito", sans-serif;
  font-weight: 800;
  font-size: 1.5rem; /* 24px */
  color: #1e293b;
  margin-bottom: 15px;
  line-height: 1; /* 行高1.0 */
}

.unified-sentence-container {
  background: #f1f5f9;
  border: 1px solid #d1d5db;
  border-radius: 8px;
  padding: 8px 8px;
  text-align: left;
  position: absolute;
  bottom: 20px;
  left: 10px;
  right: 10px;
  top: calc(20px + 1.5rem * 1 + 15px);
  overflow-y: auto;
}

/* 序号与例句对齐系统 */
.sentence-english-line {
  display: flex;
  align-items: baseline;
  justify-content: flex-start;
}

.sentence-number {
  flex-shrink: 0;
  margin-right: 8px; /* 网页预览模式间距 */
  width: 14px;
  font-size: 17px; /* 网页预览模式字号 */
}

.sentence-chinese {
  margin-left: 22px; /* 14px + 8px 保持对齐 */
}
```

## 📸 A4图片导出排版配置

### 📐 A4图片可视化配置

#### 页面设置
- **页面尺寸：** A4
- **布局方式：** 2×2网格 (每页4张卡片)
- **页面边距：** `15mm`
- **卡片间距：** `5mm`

#### 🎯 单张卡片规格
- **卡片尺寸：** `85mm × 120mm`
- **边框：** `1pt solid #e5e7eb`
- **圆角：** `4mm`
- **内边距：** `3mm`

#### 🖼️ 图片区域
- **高度：** `60mm` (约45%卡片高度)
- **下边距：** `2mm`
- **圆角：** `2mm`
- **适配方式：** `object-fit: cover`

#### ✍️ 文字区域布局

1. **单词**
   - **字号：** `18pt`
   - **颜色：** `#2563eb` (蓝色)
   - **下边距：** `1mm`
   - **对齐：** 居中

2. **音标**
   - **字号：** `12pt`
   - **颜色：** `#64748b` (灰色)
   - **下边距：** `1mm`
   - **对齐：** 居中

3. **拼读色块**
   - **背景色：** `#dbeafe` (浅蓝)
   - **字色：** `#1e293b` (深灰)
   - **字号：** `10pt`
   - **圆角：** `2mm`
   - **内边距：** `2mm × 0.5mm`
   - **间距：** 右`1mm`，下`0.5mm`

4. **中文释义**
   - **字号：** `14pt`
   - **颜色：** `#334155` (深灰)
   - **下边距：** `2mm`
   - **对齐：** 居中
   - **粗体显示**

5. **例句容器**
   - **背景色：** `#f8fafc` (浅灰)
   - **圆角：** `2mm`
   - **内边距：** `2mm`
   - **字号：** `9pt`
   - **行高：** `1.3`
   - **颜色：** `#475569` (中灰)

6. **下载图片模式例句配置**
   - **英文例句字号：** `21.6px` (在原始基础上减小10%)
   - **中文翻译字号：** `19.8px` (在原始基础上减小10%)
   - **序号字号：** `20px` (略小于例句文字)
   - **序号间距：** `padding-right: 12px` (增大间距)

---

### A4页面样式定义

```css
/* A4页面容器样式 */
.a4-page-container {
  width: 794px;  /* A4宽度 210mm @ 96dpi */
  height: 1123px; /* A4高度 297mm @ 96dpi */
  background: white;
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-template-rows: 1fr 1fr;
  gap: 20px;
  padding: 40px;
  box-sizing: border-box;
}

.a4-card-container {
  width: 100%;
  height: 100%;
  aspect-ratio: 85/135; /* 保持卡片比例 */
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  overflow: hidden;
  background: white;
}

/* 下载图片模式序号与例句配置 */
.print-mode .sentence-number {
  font-size: 20px !important;
  padding-right: 12px !important;
}

.print-mode .sentence-english {
  font-size: 21.6px !important;
}

.print-mode .sentence-chinese {
  font-size: 19.8px !important;
}
```

### A4图片截图配置

```typescript
// html2canvas 截图配置
const screenshotOptions = {
  scale: 2,  // 高清截图，2倍像素密度
  useCORS: true,  // 支持跨域图片
  allowTaint: false,  // 防止画布污染
  backgroundColor: '#ffffff',  // 白色背景
  width: 794,   // A4页面宽度
  height: 1123, // A4页面高度
  windowWidth: 794,
  windowHeight: 1123
};
```

### A4页面布局结构

```tsx
<div className="a4-page-container" id="a4-page-1">
  {/* 左上角卡片 */}
  <div className="a4-card-container">
    <SingleCardRenderer 
      card={cards[0]} 
      mode="print" 
      scale={1.0}
    />
  </div>
  
  {/* 右上角卡片 */}
  <div className="a4-card-container">
    <SingleCardRenderer 
      card={cards[1]} 
      mode="print" 
      scale={1.0}
    />
  </div>
  
  {/* 左下角卡片 */}
  <div className="a4-card-container">
    <SingleCardRenderer 
      card={cards[2]} 
      mode="print" 
      scale={1.0}
    />
  </div>
  
  {/* 右下角卡片 */}
  <div className="a4-card-container">
    <SingleCardRenderer 
      card={cards[3]} 
      mode="print" 
      scale={1.0}
    />
  </div>
</div>
```

---

## 📚 相关技术文档

- **[技术分析与架构设计](./02_技术分析与架构设计.md)** - 完整技术架构说明
- **[用户界面优化更新记录](./08_用户界面优化更新记录.md)** - UI/UX改进历程
- **[系统状态与快速恢复指南](./09_系统状态与快速恢复指南_2024.md)** - 问题排查和恢复方案

---

**重要提示：** 本配置标准文档是项目排版系统的总览。所有具体的CSS实现细节请参考对应的样式备份文档。任何样式修改都应该先更新实际代码，然后同步更新相关文档，确保文档与代码的一致性。 