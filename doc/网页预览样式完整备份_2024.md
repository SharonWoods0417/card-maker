# 网页预览样式完整备份 (2024年最新版)

> **重要说明：** 本文档是网页预览模式的完整CSS样式备份，用于快速恢复网页预览效果

## 📅 备份信息
- **创建日期：** 2024年12月最新版本
- **适用范围：** 网页预览模式 (`.preview-mode`)
- **状态：** ✅ 已验证正常工作
- **最新更新：** 卡片背面灰色框间距统一为15px (2024年12月最新)

## 🎯 核心样式配置

### 1. 四线三格配置
```css
.preview-mode .four-line-grid {
  position: relative;
  background-color: transparent;
  padding: 16px 12px; /* 减少padding，让四线三格整体缩小 */
  min-height: 95px; /* 减少高度 */
  display: flex;
  align-items: center;
  justify-content: center;
  width: 78%; /* 减少宽度从85%到78% */
  margin-left: auto;
  margin-right: auto;
  margin-top: 0px; /* 恢复四线三格原始位置 */
  margin-bottom: 0px;
  border: none;
}

.preview-mode .four-line-grid::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 1;
  background: 
    /* 第一条虚线 (20%) */
    linear-gradient(90deg, #6b7280 0px, #6b7280 8px, transparent 8px, transparent 12px) 0 20%/12px 1px repeat-x,
    /* 第二条虚线 (40%) */
    linear-gradient(90deg, #6b7280 0px, #6b7280 8px, transparent 8px, transparent 12px) 0 40%/12px 1px repeat-x,
    /* 红色基线 (60%) - 实线 */
    linear-gradient(90deg, #dc2626 0px, #dc2626 100%) 0 60%/100% 2px no-repeat,
    /* 第四条虚线 (80%) */
    linear-gradient(90deg, #6b7280 0px, #6b7280 8px, transparent 8px, transparent 12px) 0 80%/12px 1px repeat-x;
}
```

### 2. 四线三格字体配置
```css
.preview-mode .four-line-font-md {
  font-size: 3.0rem; /* 48px */
  line-height: 1;
  font-family: "AU School Handwriting Fonts", "Comic Sans MS", "Comic Neue", "Kalam", cursive;
  transform: translateY(calc(-10% - 3px)); /* 在-10%的基础上再上移3px */
  font-weight: 450;
  letter-spacing: 0.05em;
  text-align: center;
  color: #1f2937;
  z-index: 10;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
  position: relative;
}
```

### 3. 音标配置
```css
.preview-mode .phonetic-text {
  font-family: "Nunito", sans-serif;
  font-weight: 600;
  color: #3b82f6;
  font-size: 1.25rem;
  display: inline-block;
  margin-top: -10px; /* 设置为负值，实现音标上移 */
  margin-bottom: 15px; /* 恢复原始值，确保与下方拼读模块的间距不变 */
}
```

### 4. 拼读色块容器配置
```css
.preview-mode .phonics-container {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 4px;
  flex-wrap: wrap;
  margin-top: 5px; /* 从-10px改为5px，实现下移 */
}
```

### 5. 拼读色块样式配置
```css
.preview-mode .phonics-block {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 2px 10px; /* 增加水平内边距，让色块更宽 */
  border-radius: 5px;
  font-family: "AU School Handwriting Fonts", "Kalam", sans-serif;
  font-weight: 700;
  font-size: 1.5rem; /* 字体大小同步扩大到24px */
  color: white;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
  min-width: 30px; /* 增加最小宽度，避免太细 */
  min-height: 48px; /* 高度扩大到48px */
  text-align: center;
  line-height: 1;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}
```

### 6. 拼读色块颜色配置 (20%透明度)
```css
.preview-mode .phonics-block:nth-child(1) {
  background-color: rgba(59, 130, 246, 0.2);
  color: #1e40af;
}
.preview-mode .phonics-block:nth-child(2) {
  background-color: rgba(239, 68, 68, 0.2);
  color: #dc2626;
}
.preview-mode .phonics-block:nth-child(3) {
  background-color: rgba(16, 185, 129, 0.2);
  color: #059669;
}
.preview-mode .phonics-block:nth-child(4) {
  background-color: rgba(245, 158, 11, 0.2);
  color: #d97706;
}
.preview-mode .phonics-block:nth-child(5) {
  background-color: rgba(139, 92, 246, 0.2);
  color: #7c3aed;
}
.preview-mode .phonics-block:nth-child(6) {
  background-color: rgba(6, 182, 212, 0.2);
  color: #0891b2;
}
.preview-mode .phonics-block:nth-child(7) {
  background-color: rgba(34, 197, 94, 0.2);
  color: #65a30d;
}
.preview-mode .phonics-block:nth-child(8) {
  background-color: rgba(234, 88, 12, 0.2);
  color: #ea580c;
}
```

## 🔄 卡片背面样式

### 基础CSS样式 (非预览模式专用)
**注意：卡片背面使用基础CSS样式，不使用 `.preview-mode` 前缀**

### 网页预览模式卡片背面配置 (2024年最新版)
```css
/* 网页预览模式：卡片背面容器 - 移除内边距，实现精确控制 */
.card-back:not(.print-mode *) {
  padding: 0; /* 移除内边距，让子元素占满 */
  display: flex;
  flex-direction: column;
  justify-content: flex-start;
  gap: 0;
}

/* 网页预览模式：中文释义区域容器 - 占50%高度，提供内边距 */
.card-back:not(.print-mode *) .meaning-text {
  height: 50%;
  background-color: transparent;
  padding: 15px 15px 0; /* 调整为统一间距：上15px, 左右15px, 下0 */
  box-sizing: border-box;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 0;
  font-size: inherit;
}

/* 网页预览模式：新增中文释义盒子，用于容纳释义 */
.card-back:not(.print-mode *) .meaning-box {
  width: 100%;
  height: 100%;
  background-color: #f1f5f9;
  border: 1px solid #e2e8f0;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 10px;
  box-sizing: border-box;
  font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
  font-weight: 800;
  font-size: 28px;
  color: #1e293b;
  line-height: 1.2;
  text-align: center;
}

/* 网页预览模式：例句容器 - 占50%高度，透明背景 */
.card-back:not(.print-mode *) .unified-sentence-container {
  height: 50%;
  box-sizing: border-box;
  background: none;
  border: none;
  padding: 15px;
  text-align: left;
  overflow-y: auto;
  position: static;
  /* 覆盖绝对定位的top/bottom/left/right */
  top: auto;
  bottom: auto;
  left: auto;
  right: auto;
}
```

### 基础样式 (影响所有模式)
```css
.meaning-text {
  font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
  font-weight: 800;
  font-size: 1.5rem; /* 24px */
  color: #1e293b;
  margin-bottom: 15px; /* 调整为15px，距离灰色框15px */
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
  line-height: 1; /* 行高1.0 */
  text-align: center; /* 确保居中 */
}

.unified-sentence-container {
  background: #f1f5f9; /* 深一点的灰色 */
  border: 1px solid #d1d5db;
  border-radius: 8px; /* 从12px改为8px */
  padding: 8px 8px; /* 从16px 20px改为8px 8px */
  text-align: left; /* 左对齐，不居中 */
  
  /* 固定大小和位置 - 距离中文释义15px，左右边距10px */
  position: absolute;
  bottom: 20px; /* 距离卡片下边缘20px */
  left: 10px; /* 从15px改为10px */
  right: 10px; /* 从15px改为10px */
  top: calc(
    20px + 1.5rem * 1 + 15px
  ); /* 顶部内边距20px + 中文释义高度 + 15px间距 */
  overflow-y: auto; /* 如果内容过多，允许滚动 */
}
```

### 例句字体配置 (2024年最新版)
```css
/* 基础例句样式 - 同时影响网页预览和导出 */
.sentence-english {
  font-weight: 600;
  color: #374151;
  font-size: 19.2px; /* 在16px基础上增大20% */
  display: inline-block;
  width: calc(100% - 20px); /* 减去序号的宽度 */
  vertical-align: top;
  line-height: 1.5;
  font-family: "Nunito", sans-serif;
}

.sentence-chinese {
  font-weight: 600;
  color: #6b7280;
  font-size: 18px; /* 在15px基础上增大20% */
  margin-left: 21px; /* 从24px改为21px */
  margin-top: 2px; /* 从4px改为2px */
  line-height: 1.5;
  font-family: "PingFang SC", "Microsoft YaHei", sans-serif;
}
```

### 序号与例句精细化对齐配置 (最新完成)
```css
/* 序号与例句对齐系统 - 网页预览模式专用 */
.preview-mode .sentence-english-line {
  display: flex !important;
  align-items: baseline !important;
  justify-content: flex-start !important;
}

.preview-mode .sentence-number {
  flex-shrink: 0 !important;
  margin-right: 8px !important; /* 间距增大到8px */
  width: 14px; /* 固定宽度以对齐 */
  font-size: 17px; /* 字体大小缩小到17px */
}

.preview-mode .sentence-chinese {
  margin-left: 22px !important; /* 22px = width 14px + margin-right 8px */
}
```

## 🚀 快速恢复步骤

如果网页预览效果被破坏，按以下步骤恢复：

1. 打开 `src/index.css` 文件
2. 定位到预览模式相关样式 (搜索 `.preview-mode`)
3. 将本文档中的对应样式配置完全替换原有配置
4. 保存文件，刷新浏览器验证效果

## ⚠️ 重要注意事项

1. **只影响网页预览**：所有样式都使用 `.preview-mode` 前缀
2. **不影响下载图片**：下载图片使用独立的 `.print-mode` 样式
3. **卡片背面**：中文释义和例句容器使用 `.card-back:not(.print-mode *)` 样式，确保与下载图片模式分离
4. **间距统一**：网页预览和下载图片的灰色框间距现已统一为15px
5. **字体加载**：确保 AU School Handwriting Fonts 字体文件存在于 `/fonts/` 目录
6. **序号对齐**：序号与例句的对齐配置已经过精细调试，建议谨慎修改

## 📊 关键尺寸参数

- **四线三格宽度**：78% (相对于卡片宽度)
- **四线三格高度**：95px (最小高度)
- **拼读色块高度**：48px (最小高度)
- **拼读色块字体**：24px (1.5rem)
- **音标字体**：20px (1.25rem)
- **单词字体**：48px (3.0rem)

## 🎨 视觉效果总结

- **四线三格**：适度缩小，位置居中
- **单词**：相对四线三格适度下移，字体清晰
- **音标**：适度上移，与四线三格距离适中
- **拼读色块**：适度下移，色块更宽更高，字体更大
- **卡片背面**：中文释义灰色框距离上左右边缘15px，与下载图片模式保持一致 